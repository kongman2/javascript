<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
      <script>
         // 서버한테 같이 전달하는 포스트잇 같은 느낌..
         const options = {
            method: 'GET', // RestFul 방식 중 GET방식으로 요청
            headers: {
               accept: 'application/json', // 저는 json 객체 형태로 데이터를 받을게요~ 라고 서버에게 요청
               // 보안을 위해서 서버에서 주는 인증키
               Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZDI5ZmIzYTNiOGFkZjkzYzNkNTQxNDU4OTczNzA0OSIsIm5iZiI6MTcyOTgyNDc5MS43NjUxNTgsInN1YiI6IjYyNGQ0MzQxYzM5MjY2MDA0ZjkyOThiZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eCX8hid8Pb1fUbm35MiBxCUoybIMGZYL26wmLZH68XI',
            },
         }

         // fetch: 서버에 request를 요청하는 자바스크립트에서 제공하는 함수
         // fetch(request 주소, request 할때 서버에 같이 전달하는 옵션)
         // 물음표 뒤는 쿼리스트링: 서버에 보내는 값들

         const url = 'https://api.themoviedb.org/3/movie/now_playing?language=ko-KR&page=1&region=KR'

         const getPlayingMovies = (url) => {
            return fetch(url, options)
         }

         getPlayingMovies(url)
            .then((res) => {
               console.log(res) // response 정보 + 데이터
               return res.json() // 실제 데이터만 리턴
            })
            .then((res) => console.log(res))
            .catch((err) => console.error(err)) //request할때 문제 발생시 실행
      </script>
   </head>
   <body></body>
</html>
